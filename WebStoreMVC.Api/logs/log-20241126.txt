{"@t":"2024-11-26T00:20:02.0475875Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"bfd236693578c68f404508fd09f386e8","@sp":"c0d39b72461f421b","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DM0794F42:00000001","RequestPath":"/","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:20:09.8785256Z","@mt":"Using 'Distinct' operation on a projection containing a collection is not supported.","@l":"Error","@x":"System.InvalidOperationException: Using 'Distinct' operation on a projection containing a collection is not supported.\n   at Microsoft.EntityFrameworkCore.Query.SqlExpressions.SelectExpression.ApplyDistinct()\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateDistinct(ShapedQueryExpression source)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\n   at WebStoreMVC.Application.Services.AccountService.Index() in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/AccountService.cs:line 65","@tr":"29b0cddaf015903da60ca810cc240e80","@sp":"092591e94e748441","ActionId":"3e909ed2-86ef-4201-ab4e-6ff4f393e16e","ActionName":"WebStoreMVC.Controllers.AccountController.Index (WebStoreMVC.Api)","RequestId":"0HN8DM0794F42:00000006","RequestPath":"/Account/Index","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:21:45.3793249Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"7aa0acad047517889e6ef08cdf832132","@sp":"28f35d571b7696aa","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b3b2202b-f3c4-4da2-b925-855498c96293","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DM0794F42:00000007","RequestPath":"/Home/Product/0","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:21:45.3797334Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"7aa0acad047517889e6ef08cdf832132","@sp":"28f35d571b7696aa","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b3b2202b-f3c4-4da2-b925-855498c96293","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DM0794F42:00000007","RequestPath":"/Home/Product/0","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:23:17.5471025Z","@mt":"The LINQ expression 'DbSet<Product>()\n    .Where(p => p.ProductId == __8__locals1_item_ProductId_0)\n    .ExecuteUpdate(s => s.SetProperty<int>(\n        propertyExpression: p => p.ProductId, \n        valueExpression: __data_ProductId_1).SetProperty<string>(\n        propertyExpression: c => c.Description, \n        valueExpression: __data_Description_2).SetProperty<Manufacturer>(\n        propertyExpression: p => p.Manufacturer, \n        valueExpression: __data_Manufacturer_3).SetProperty<int>(\n        propertyExpression: p => p.Color.Id, \n        valueExpression: __data_ColorId_4).SetProperty<string>(\n        propertyExpression: p => p.ProductName, \n        valueExpression: __data_ProductName_5).SetProperty<int>(\n        propertyExpression: p => p.Article, \n        valueExpression: __data_Article_6).SetProperty<int>(\n        propertyExpression: p => p.Quantity, \n        valueExpression: __p_7).SetProperty<string>(\n        propertyExpression: p => p.Images, \n        valueExpression: __data_Images_8).SetProperty<decimal>(\n        propertyExpression: p => p.Price, \n        valueExpression: __data_Price_9))' could not be translated. Additional information: The following lambda argument to 'SetProperty' does not represent a valid property to be set: 'p => p.Color.Id'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<Product>()\n    .Where(p => p.ProductId == __8__locals1_item_ProductId_0)\n    .ExecuteUpdate(s => s.SetProperty<int>(\n        propertyExpression: p => p.ProductId, \n        valueExpression: __data_ProductId_1).SetProperty<string>(\n        propertyExpression: c => c.Description, \n        valueExpression: __data_Description_2).SetProperty<Manufacturer>(\n        propertyExpression: p => p.Manufacturer, \n        valueExpression: __data_Manufacturer_3).SetProperty<int>(\n        propertyExpression: p => p.Color.Id, \n        valueExpression: __data_ColorId_4).SetProperty<string>(\n        propertyExpression: p => p.ProductName, \n        valueExpression: __data_ProductName_5).SetProperty<int>(\n        propertyExpression: p => p.Article, \n        valueExpression: __data_Article_6).SetProperty<int>(\n        propertyExpression: p => p.Quantity, \n        valueExpression: __p_7).SetProperty<string>(\n        propertyExpression: p => p.Images, \n        valueExpression: __data_Images_8).SetProperty<decimal>(\n        propertyExpression: p => p.Price, \n        valueExpression: __data_Price_9))' could not be translated. Additional information: The following lambda argument to 'SetProperty' does not represent a valid property to be set: 'p => p.Color.Id'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass12_0`1.<ExecuteAsync>b__0()\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.ExecuteAsync[TResult](Expression expression, CancellationToken cancellationToken)\n   at Microsoft.EntityFrameworkCore.RelationalQueryableExtensions.ExecuteUpdateAsync[TSource](IQueryable`1 source, Expression`1 setPropertyCalls, CancellationToken cancellationToken)\n   at WebStoreMVC.Application.Services.OrderService.SaveUserOrder() in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/OrderService.cs:line 80","@tr":"e80d9270c2b55fb37fc27cc9d2c0782b","@sp":"28a6eef879647b17","ActionId":"543212c9-a6de-4c2e-83bc-5352b73cbd9a","ActionName":"WebStoreMVC.Controllers.OrderController.OrderConfirmation (WebStoreMVC.Api)","RequestId":"0HN8DM0794F42:0000000F","RequestPath":"/Order/OrderConfirmation","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:23:17.6473746Z","@mt":"Object reference not set to an instance of an object.","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at WebStoreMVC.Application.Services.OrderService.SendOrderToUserEmail(OrderWithUserMail orderWithUserMail) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/OrderService.cs:line 357","@tr":"e80d9270c2b55fb37fc27cc9d2c0782b","@sp":"28a6eef879647b17","ActionId":"543212c9-a6de-4c2e-83bc-5352b73cbd9a","ActionName":"WebStoreMVC.Controllers.OrderController.OrderConfirmation (WebStoreMVC.Api)","RequestId":"0HN8DM0794F42:0000000F","RequestPath":"/Order/OrderConfirmation","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:23:17.6624079Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.NullReferenceException: Object reference not set to an instance of an object.\n   at AspNetCoreGeneratedDocument.Views_Order_SuccessfulTransaction.ExecuteAsync() in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Views/Order/SuccessfulTransaction.cshtml:line 21\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageCoreAsync(IRazorPage page, ViewContext context)\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderPageAsync(IRazorPage page, ViewContext context, Boolean invokeViewStarts)\n   at Microsoft.AspNetCore.Mvc.Razor.RazorView.RenderAsync(ViewContext context)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)\n   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 52\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"e80d9270c2b55fb37fc27cc9d2c0782b","@sp":"28a6eef879647b17","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN8DM0794F42:0000000F","RequestPath":"/Order/OrderConfirmation","ConnectionId":"0HN8DM0794F42"}
{"@t":"2024-11-26T00:40:00.2203445Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"871892019bc91cf86c8d1e209d49f4d7","@sp":"b939b64e35d673a6","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DMBDUEG2O:00000001","RequestPath":"/","ConnectionId":"0HN8DMBDUEG2O"}
{"@t":"2024-11-26T00:41:05.8897273Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e5bcd978b8cdadad63a6081066daf8f1","@sp":"cee8d97ae39ac52b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ba7ad5e7-c8ce-47cc-8194-2c53640cfbb9","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DMBDUEG2O:00000004","RequestPath":"/Home/Product/0","ConnectionId":"0HN8DMBDUEG2O"}
{"@t":"2024-11-26T00:41:05.8904128Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e5bcd978b8cdadad63a6081066daf8f1","@sp":"cee8d97ae39ac52b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ba7ad5e7-c8ce-47cc-8194-2c53640cfbb9","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DMBDUEG2O:00000004","RequestPath":"/Home/Product/0","ConnectionId":"0HN8DMBDUEG2O"}
{"@t":"2024-11-26T00:42:10.2720197Z","@mt":"535: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR0P281CA0073.DEUP281.PROD.OUTLOOK.COM 2024-11-26T00:42:10.225Z 08DD0D89C8521C37]","@l":"Error","@x":"MailKit.Security.AuthenticationException: 535: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR0P281CA0073.DEUP281.PROD.OUTLOOK.COM 2024-11-26T00:42:10.225Z 08DD0D89C8521C37]\n ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR0P281CA0073.DEUP281.PROD.OUTLOOK.COM 2024-11-26T00:42:10.225Z 08DD0D89C8521C37]\n   --- End of inner exception stack trace ---\n   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)\n   at WebStoreMVC.Application.Services.OrderService.SendOrderToUserEmail(OrderWithUserMail orderWithUserMail) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/OrderService.cs:line 369","@tr":"bbe496e729399fa1aad2c24a89282962","@sp":"ed3c0c8b488fa008","ActionId":"9c2a2a12-007a-4ea2-aae7-6558cd564c3a","ActionName":"WebStoreMVC.Controllers.OrderController.OrderConfirmation (WebStoreMVC.Api)","RequestId":"0HN8DMBDUEG2O:0000000C","RequestPath":"/Order/OrderConfirmation","ConnectionId":"0HN8DMBDUEG2O"}
{"@t":"2024-11-26T00:42:47.0723324Z","@mt":"Using 'Distinct' operation on a projection containing a collection is not supported.","@l":"Error","@x":"System.InvalidOperationException: Using 'Distinct' operation on a projection containing a collection is not supported.\n   at Microsoft.EntityFrameworkCore.Query.SqlExpressions.SelectExpression.ApplyDistinct()\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateDistinct(ShapedQueryExpression source)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\n   at WebStoreMVC.Application.Services.AccountService.Index() in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/AccountService.cs:line 65","@tr":"16a52c68d3cfd0213d901c52a121d3e8","@sp":"9f7f78be2e5309ae","ActionId":"4215a7b4-cc83-4ddd-a75e-c5690c00ef77","ActionName":"WebStoreMVC.Controllers.AccountController.Index (WebStoreMVC.Api)","RequestId":"0HN8DMBDUEG2P:00000001","RequestPath":"/Account/Index","ConnectionId":"0HN8DMBDUEG2P"}
{"@t":"2024-11-26T00:43:11.0887379Z","@mt":"Using 'Distinct' operation on a projection containing a collection is not supported.","@l":"Error","@x":"System.InvalidOperationException: Using 'Distinct' operation on a projection containing a collection is not supported.\n   at Microsoft.EntityFrameworkCore.Query.SqlExpressions.SelectExpression.ApplyDistinct()\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.TranslateDistinct(ShapedQueryExpression source)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\n   at WebStoreMVC.Application.Services.AccountService.Index() in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/AccountService.cs:line 65","@tr":"04428a066bdb99787342867ed5d791ea","@sp":"bef7ec3e39d57a6d","ActionId":"4215a7b4-cc83-4ddd-a75e-c5690c00ef77","ActionName":"WebStoreMVC.Controllers.AccountController.Index (WebStoreMVC.Api)","RequestId":"0HN8DMBDUEG2Q:00000001","RequestPath":"/Account/Index","ConnectionId":"0HN8DMBDUEG2Q"}
{"@t":"2024-11-26T00:44:01.3099540Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.InvalidOperationException: The query contains a projection '<>h__TransparentIdentifier2 => DbSet<Color>()\n    .Where(x => x.Id == <>h__TransparentIdentifier2.<>h__TransparentIdentifier1.p.ColorId)' of type 'IQueryable<Color>'. Collections in the final projection must be an 'IEnumerable<T>' type such as 'List<T>'. Consider using 'ToList' or some other mechanism to convert the 'IQueryable<T>' or 'IOrderedEnumerable<T>' into an 'IEnumerable<T>'.\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryableMethodNormalizingExpressionVisitor.VerifyReturnType(Expression expression, ParameterExpression lambdaParameter)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryableMethodNormalizingExpressionVisitor.VerifyReturnType(Expression expression, ParameterExpression lambdaParameter)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryableMethodNormalizingExpressionVisitor.VisitMethodCall(MethodCallExpression methodCallExpression)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryableMethodNormalizingExpressionVisitor.Normalize(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.NormalizeQueryableMethod(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.RelationalQueryTranslationPreprocessor.NormalizeQueryableMethod(Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.QueryTranslationPreprocessor.Process(Expression query)\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass9_0`1.<Execute>b__0()\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.Execute[TResult](Expression query)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryProvider.Execute[TResult](Expression expression)\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetEnumerator()\n   at WebStoreMVC.Application.Services.OrderService.FindUserOrder(String id) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/OrderService.cs:line 326\n   at WebStoreMVC.Controllers.OrderController.FindOrder(FindOrderModel model) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Controllers/OrderController.cs:line 195\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 52\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"9d2f4e36e567f816c004edf0993a146b","@sp":"642897e7bdc432ff","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN8DMBDUEG2Q:00000008","RequestPath":"/FindOrder","ConnectionId":"0HN8DMBDUEG2Q"}
{"@t":"2024-11-26T00:51:02.4784066Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"1e5e01e9d932073d517d4392b23ebaab","@sp":"f342ea6ab3ed7b10","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DMHJ9V258:00000001","RequestPath":"/","ConnectionId":"0HN8DMHJ9V258"}
{"@t":"2024-11-26T00:52:49.3238409Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"77385401480583a82ed273ffc56f545b","@sp":"7f1058974194f3bc","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DMIJ56COI:00000001","RequestPath":"/","ConnectionId":"0HN8DMIJ56COI"}
{"@t":"2024-11-26T00:59:14.9790653Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"038a6c9610b1c244d30ab15aedfbd73b","@sp":"992fb2c1a19a2a0d","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DMM62SJKR:00000001","RequestPath":"/","ConnectionId":"0HN8DMM62SJKR"}
{"@t":"2024-11-26T01:08:34.0847759Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"f1b9ecd0723a239c2f60a1eb02b8d20d","@sp":"44282ae9455dc5a9","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DMRCN43EH:00000001","RequestPath":"/","ConnectionId":"0HN8DMRCN43EH"}
{"@t":"2024-11-26T01:31:34.3590430Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"d96c42e682c1427b02bbd58144c2a8f2","@sp":"dbe9992bec8999c7","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DN882EH6V:00000001","RequestPath":"/","ConnectionId":"0HN8DN882EH6V"}
{"@t":"2024-11-26T01:35:21.0425317Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"2a6f7815cdb4ba280ac1978fe1ed2cf1","@sp":"e852638bde9daccf","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"65b75211-6c2c-4b1f-b2fc-7ba744c11aa6","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DN882EH6V:00000024","RequestPath":"/Home/Product/153","ConnectionId":"0HN8DN882EH6V"}
{"@t":"2024-11-26T01:35:21.0442071Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"2a6f7815cdb4ba280ac1978fe1ed2cf1","@sp":"e852638bde9daccf","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"65b75211-6c2c-4b1f-b2fc-7ba744c11aa6","ActionName":"WebStoreMVC.Controllers.HomeController.Product (WebStoreMVC.Api)","RequestId":"0HN8DN882EH6V:00000024","RequestPath":"/Home/Product/153","ConnectionId":"0HN8DN882EH6V"}
{"@t":"2024-11-26T01:36:12.8334111Z","@mt":"535: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR3P281CA0072.DEUP281.PROD.OUTLOOK.COM 2024-11-26T01:36:12.789Z 08DD0D0FC577189A]","@l":"Error","@x":"MailKit.Security.AuthenticationException: 535: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR3P281CA0072.DEUP281.PROD.OUTLOOK.COM 2024-11-26T01:36:12.789Z 08DD0D0FC577189A]\n ---> MailKit.Net.Smtp.SmtpCommandException: 5.7.139 Authentication unsuccessful, basic authentication is disabled. [FR3P281CA0072.DEUP281.PROD.OUTLOOK.COM 2024-11-26T01:36:12.789Z 08DD0D0FC577189A]\n   --- End of inner exception stack trace ---\n   at MailKit.Net.Smtp.SmtpClient.AuthenticateAsync(Encoding encoding, ICredentials credentials, CancellationToken cancellationToken)\n   at WebStoreMVC.Application.Services.OrderService.SendOrderToUserEmail(OrderWithUserMail orderWithUserMail) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Application/Services/OrderService.cs:line 371","@tr":"7eee0c23e1bc0ef4663a9508b14e2637","@sp":"51b81c7990d16ad6","ActionId":"08601dc5-5cfc-45d6-b31e-887114a5a99d","ActionName":"WebStoreMVC.Controllers.OrderController.OrderConfirmation (WebStoreMVC.Api)","RequestId":"0HN8DN882EH6V:0000002E","RequestPath":"/Order/OrderConfirmation","ConnectionId":"0HN8DN882EH6V"}
{"@t":"2024-11-26T01:37:55.1480561Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"1c4f80bc89c958e9281eb03e3c9af9cc","@sp":"48e9c577fdc6dd57","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DNBPHTF66:00000001","RequestPath":"/","ConnectionId":"0HN8DNBPHTF66"}
{"@t":"2024-11-26T01:42:29.7256702Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"344d41c3e9e4f3f698e115a7a65980ac","@sp":"48f702d348e3b002","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DNEB6DRIV:00000001","RequestPath":"/","ConnectionId":"0HN8DNEB6DRIV"}
{"@t":"2024-11-26T01:49:05.5345537Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"917e10680728fafa8ff65b9079d8bf4f","@sp":"bf5cb828733c7b60","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DNI1AUJP0:00000001","RequestPath":"/","ConnectionId":"0HN8DNI1AUJP0"}
{"@t":"2024-11-26T01:56:21.4646498Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"21da9aa9fb9f2a353aca3b6100adb370","@sp":"bd6b9b8ef1c7589d","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN8DNM33JCHC:00000001","RequestPath":"/","ConnectionId":"0HN8DNM33JCHC"}
