{"@t":"2024-07-14T10:43:13.6793317Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"205c85c3cc2b44fb91e82ef3e0ea969e","@sp":"cfecd2415cf77247","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53U71HRGIM:00000001","RequestPath":"/","ConnectionId":"0HN53U71HRGIM"}
{"@t":"2024-07-14T10:43:30.4278066Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e7e9c23fbe11f81828704d16b5ab9dcc","@sp":"d9462ddbddf8ea33","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"ef3c8966-78d7-44df-b39a-7a923412db0d","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53U71HRGIM:00000005","RequestPath":"/Home/Store","ConnectionId":"0HN53U71HRGIM"}
{"@t":"2024-07-14T11:44:37.8989981Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"50001c4dd961c576fb88e8bf83840471","@sp":"cde69492ec83188f","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53V9B9U4VU:00000001","RequestPath":"/","ConnectionId":"0HN53V9B9U4VU"}
{"@t":"2024-07-14T11:45:29.9571195Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e6636a61942390cb930a3c0ca7c0d641","@sp":"f1b04f74ef1a3304","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"6551b269-5466-432a-984a-0cb8ece36b64","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53V9B9U4VU:00000004","RequestPath":"/Home/Store","ConnectionId":"0HN53V9B9U4VU"}
{"@t":"2024-07-14T11:51:12.6355915Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a0734b8605f298359deab24ee9b07a15","@sp":"09a82b333ad8faeb","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53VD0VME95:00000001","RequestPath":"/","ConnectionId":"0HN53VD0VME95"}
{"@t":"2024-07-14T11:56:12.4407586Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"7fb343fd692f730b52259c0318dbd4fb","@sp":"dd3b306c0d6d101b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7367dcae-f3c8-43e5-ba7f-e7bce182723d","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53VD0VME96:00000002","RequestPath":"/Home/Store","ConnectionId":"0HN53VD0VME96"}
{"@t":"2024-07-14T12:02:11.8813284Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"db691343707717e48a7d0ee433aeb703","@sp":"deded72321f0d318","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53VJ5JIIEI:00000001","RequestPath":"/","ConnectionId":"0HN53VJ5JIIEI"}
{"@t":"2024-07-14T12:02:16.0632495Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e33945a3fcdde3d29b835d5bd956cbc0","@sp":"2b2e576f71435977","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b385fee5-8389-493b-b02b-4d1ffca76b27","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53VJ5JIIEI:00000002","RequestPath":"/Home/Store","ConnectionId":"0HN53VJ5JIIEI"}
{"@t":"2024-07-14T12:04:27.8302443Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"cc6a430ebb728a1f693b50a28d1673d9","@sp":"748032d948dccfd8","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53VKDVQFVN:00000001","RequestPath":"/","ConnectionId":"0HN53VKDVQFVN"}
{"@t":"2024-07-14T12:05:18.3168351Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"e87ebb98b675ba2ce90ce1c18c047838","@sp":"f4f737d59f272d24","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"53726fdb-bab7-4a51-b872-a55925af7075","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53VKDVQFVN:00000006","RequestPath":"/Home/Store","ConnectionId":"0HN53VKDVQFVN"}
{"@t":"2024-07-14T12:05:57.0779255Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"85246200fe3658f90307e67c5cc3bab4","@sp":"b862cce8fad30685","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN53VL8NFU3U:00000001","RequestPath":"/","ConnectionId":"0HN53VL8NFU3U"}
{"@t":"2024-07-14T12:06:02.6991365Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"13c5215c622dd7a9d7a1164611587440","@sp":"fc1ed8b3dd4af15a","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"179a1d13-a680-4299-8fbf-0249352b00fc","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN53VL8NFU3U:00000002","RequestPath":"/Home/Store","ConnectionId":"0HN53VL8NFU3U"}
{"@t":"2024-07-14T18:40:12.2711448Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"efd8173d46dbd7dc655fdfa048243ab8","@sp":"8bf277d8acda1f25","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN546HIHSFM7:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFM7"}
{"@t":"2024-07-14T18:40:13.4277758Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"efd8173d46dbd7dc655fdfa048243ab8","@sp":"8bf277d8acda1f25","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFM7:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFM7"}
{"@t":"2024-07-14T18:40:13.4545596Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"efd8173d46dbd7dc655fdfa048243ab8","@sp":"8bf277d8acda1f25","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFM7:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFM7"}
{"@t":"2024-07-14T18:40:13.4670725Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"efd8173d46dbd7dc655fdfa048243ab8","@sp":"8bf277d8acda1f25","ConnectionId":"0HN546HIHSFM7","TraceIdentifier":"0HN546HIHSFM7:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFM7:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:42:05.6936969Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)\n   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)\n   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 49\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"c2f03701047268cb55491ad6df7d5578","@sp":"16e1125944a68e5d","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMA:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMA"}
{"@t":"2024-07-14T18:42:05.6994150Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"c2f03701047268cb55491ad6df7d5578","@sp":"16e1125944a68e5d","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMA:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMA"}
{"@t":"2024-07-14T18:42:05.6998378Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_ContentType(StringValues value)\n   at Microsoft.AspNetCore.Http.DefaultHttpResponse.set_ContentType(String value)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ViewContext viewContext, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewExecutor.ExecuteAsync(ActionContext actionContext, IView view, ViewDataDictionary viewData, ITempDataDictionary tempData, String contentType, Nullable`1 statusCode)\n   at Microsoft.AspNetCore.Mvc.ViewFeatures.ViewResultExecutor.ExecuteAsync(ActionContext context, ViewResult result)\n   at Microsoft.AspNetCore.Mvc.ViewResult.ExecuteResultAsync(ActionContext context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeResultAsync>g__Logged|22_0(ResourceInvoker invoker, IActionResult result)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResultFilterAsync>g__Awaited|30_0[TFilter,TFilterAsync](ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResultExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.ResultNext[TFilter,TFilterAsync](State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeResultFilters()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|25_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.InvokeFilterPipelineAsync()\n--- End of stack trace from previous location ---\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 49\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"c2f03701047268cb55491ad6df7d5578","@sp":"16e1125944a68e5d","ConnectionId":"0HN546HIHSFMA","TraceIdentifier":"0HN546HIHSFMA:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFMA:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:42:23.6007561Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"f40339cddc262e4004a37d127dd1fae1","@sp":"23e5fdf43c9ea5ab","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMC:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMC"}
{"@t":"2024-07-14T18:42:23.6082357Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"f40339cddc262e4004a37d127dd1fae1","@sp":"23e5fdf43c9ea5ab","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMC:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMC"}
{"@t":"2024-07-14T18:42:23.6090593Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"f40339cddc262e4004a37d127dd1fae1","@sp":"23e5fdf43c9ea5ab","ConnectionId":"0HN546HIHSFMC","TraceIdentifier":"0HN546HIHSFMC:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFMC:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:42:33.6047800Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"5764798c6ce6d5c86cd6866c3f1c1a0c","@sp":"57f875373d98fa8a","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMD:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMD"}
{"@t":"2024-07-14T18:42:33.6069493Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"5764798c6ce6d5c86cd6866c3f1c1a0c","@sp":"57f875373d98fa8a","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMD:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMD"}
{"@t":"2024-07-14T18:42:33.6073004Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpResponseHeaders.Microsoft.AspNetCore.Http.IHeaderDictionary.set_SetCookie(StringValues value)\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(Int32 millisecondsTimeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"5764798c6ce6d5c86cd6866c3f1c1a0c","@sp":"57f875373d98fa8a","ConnectionId":"0HN546HIHSFMD","TraceIdentifier":"0HN546HIHSFMD:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFMD:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:42:48.6085003Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"e1fafd4b47e713349ddf1d239b0f6b53","@sp":"4a4f2f7ced0c365e","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFME:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFME"}
{"@t":"2024-07-14T18:42:48.6117318Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"e1fafd4b47e713349ddf1d239b0f6b53","@sp":"4a4f2f7ced0c365e","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFME:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFME"}
{"@t":"2024-07-14T18:42:48.6124115Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"e1fafd4b47e713349ddf1d239b0f6b53","@sp":"4a4f2f7ced0c365e","ConnectionId":"0HN546HIHSFME","TraceIdentifier":"0HN546HIHSFME:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFME:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:42:58.6820829Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"29de1cb0d4be5d706bb69001df4b2776","@sp":"c559946e55d31b3b","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b3cf7818-f5b4-42b0-8f5b-7e11f21b475b","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN546HIHSFMF:00000001","RequestPath":"/Home/Store","ConnectionId":"0HN546HIHSFMF"}
{"@t":"2024-07-14T18:43:00.6075138Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"29de1cb0d4be5d706bb69001df4b2776","@sp":"c559946e55d31b3b","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMF:00000001","RequestPath":"/Home/Store","ConnectionId":"0HN546HIHSFMF"}
{"@t":"2024-07-14T18:43:00.6096506Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"29de1cb0d4be5d706bb69001df4b2776","@sp":"c559946e55d31b3b","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMF:00000001","RequestPath":"/Home/Store","ConnectionId":"0HN546HIHSFMF"}
{"@t":"2024-07-14T18:43:00.6100188Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"29de1cb0d4be5d706bb69001df4b2776","@sp":"c559946e55d31b3b","ConnectionId":"0HN546HIHSFMF","TraceIdentifier":"0HN546HIHSFMF:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFMF:00000001","RequestPath":"/Home/Store"}
{"@t":"2024-07-14T18:43:10.6089511Z","@mt":"An unhandled exception has occurred while executing the request.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)","@tr":"99fcbe5784df04dde1e3e3aed6f8713c","@sp":"100767d8433b231c","EventId":{"Id":1,"Name":"UnhandledException"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMH:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMH"}
{"@t":"2024-07-14T18:43:10.6123512Z","@mt":"The response has already started, the error page middleware will not be executed.","@l":"Warning","@tr":"99fcbe5784df04dde1e3e3aed6f8713c","@sp":"100767d8433b231c","EventId":{"Id":2,"Name":"ResponseStarted"},"SourceContext":"Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware","RequestId":"0HN546HIHSFMH:00000001","RequestPath":"/","ConnectionId":"0HN546HIHSFMH"}
{"@t":"2024-07-14T18:43:10.6129166Z","@mt":"Connection id \"{ConnectionId}\", Request id \"{TraceIdentifier}\": An unhandled exception was thrown by the application.","@l":"Error","@x":"System.AggregateException: One or more errors occurred. (Headers are read-only, response has already started.)\n ---> System.InvalidOperationException: Headers are read-only, response has already started.\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpHeaders.ThrowHeadersReadOnlyException()\n   at Microsoft.AspNetCore.Http.ResponseCookies.Delete(String key, CookieOptions options)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 41\n   --- End of inner exception stack trace ---\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout, CancellationToken cancellationToken)\n   at System.Threading.Tasks.Task.Wait(TimeSpan timeout)\n   at WebStoreMVC.Middleware.RefreshTokenMiddleware.Invoke(HttpContext context) in /home/alexander/RiderProjects/WebStoreMVC/WebStoreMVC.Api/Middleware/RefreshTokenMiddleware.cs:line 50\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\n   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)\n   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Http.HttpProtocol.ProcessRequests[TContext](IHttpApplication`1 application)","@tr":"99fcbe5784df04dde1e3e3aed6f8713c","@sp":"100767d8433b231c","ConnectionId":"0HN546HIHSFMH","TraceIdentifier":"0HN546HIHSFMH:00000001","EventId":{"Id":13,"Name":"ApplicationError"},"SourceContext":"Microsoft.AspNetCore.Server.Kestrel","RequestId":"0HN546HIHSFMH:00000001","RequestPath":"/"}
{"@t":"2024-07-14T18:45:15.6312680Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"1ee66f7f5a55e6d61ba0cf64c592a04a","@sp":"dbeeb158a96276a9","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN546KCP1PI2:00000001","RequestPath":"/","ConnectionId":"0HN546KCP1PI2"}
{"@t":"2024-07-14T19:05:16.7978280Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"5a60fe1e631759726a9b4c166384e8ef","@sp":"552ffb105464e9c7","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"dc0014a2-2694-4c95-9a50-660db0fab8d7","ActionName":"WebStoreMVC.Controllers.HomeController.Store (WebStoreMVC.Api)","RequestId":"0HN546KCP1PI5:00000005","RequestPath":"/Home/Store","ConnectionId":"0HN546KCP1PI5"}
